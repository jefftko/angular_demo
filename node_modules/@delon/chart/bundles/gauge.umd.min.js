/**
 * @license ng-alain(cipchk@qq.com) v7.0.0-rc.6
 * (c) 2018 Cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@delon/util")):"function"==typeof define&&define.amd?define("@delon/chart/gauge",["exports","@angular/common","@angular/core","@delon/util"],t):t((e.delon=e.delon||{},e.delon.chart=e.delon.chart||{},e.delon.chart.gauge={}),e.ng.common,e.ng.core,e.delon.util)}(this,function(e,t,n,o){"use strict";function r(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(i=(a<3?r(i):3<a?r(t,n,i):r(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(o=a.next()).done;)i.push(o.value)}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a["return"])&&n.call(a)}finally{if(r)throw r.error}}return i}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}var c=function(){function e(e,t){this.el=e,this.ngZone=t,this.delay=0,this.color="#2f9cff",this.bgColor="#f0f2f5",this.padding=[10,10,30,10]}return e.prototype.install=function(){G2.Shape.registerShape("point","pointer",{drawShape:function(e,t){var n=this.parsePoint({x:0,y:0});return t.addShape("line",{attrs:{x1:n.x,y1:n.y,x2:e.x,y2:e.y,stroke:e.color,lineWidth:2.5,lineCap:"round"}}),t.addShape("circle",{attrs:{x:n.x,y:n.y,r:9.75,stroke:e.color,lineWidth:2,fill:"#fff"}})}});var e=this,t=e.el,n=e.height,o=e.padding,r=e.format,a=this.chart=new G2.Chart({container:t.nativeElement,animate:!1,forceFit:!0,height:n,padding:o});a.point({generatePoints:!0}).position("value*1").shape("pointer").active(!1),a.coord("polar",{startAngle:-1.2*Math.PI,endAngle:.2*Math.PI}),a.scale("value",{min:0,max:100,nice:!0,tickCount:6}),a.axis("1",!1),a.axis("value",{zIndex:2,line:null,label:{offset:-12,formatter:r},tickLine:null,grid:null}),a.legend(!1),a.render(),this.attachChart()},e.prototype.attachChart=function(){var e=this,t=e.chart,n=e.bgColor,o=e.color,r=e.title,a=e.percent;if(t){t.get("geoms")[0].color(o);var i=t.guide();i.clear();var l=[{name:r,value:a}];i.arc({zIndex:0,top:!1,start:[0,.95],end:[100,.95],style:{stroke:n,lineWidth:12}}),i.arc({zIndex:1,start:[0,.95],end:[l[0].value,.95],style:{stroke:o,lineWidth:12}}),i.html({position:["50%","95%"],html:'<div class="g2-gauge__desc">\n        <div class="g2-gauge__title">'+r+'</div>\n        <div class="g2-gauge__percent">'+l[0].value+"%</div>\n      </div>"}),t.changeData(l)}},e.prototype.ngOnInit=function(){var e=this;this.ngZone.runOutsideAngular(function(){return setTimeout(function(){return e.install()},e.delay)})},e.prototype.ngOnChanges=function(){var e=this;this.ngZone.runOutsideAngular(function(){return e.attachChart()})},e.prototype.ngOnDestroy=function(){this.chart&&this.chart.destroy()},e.decorators=[{type:n.Component,args:[{selector:"g2-gauge",template:"",host:{"[class.g2-gauge]":"true"},changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.NgZone}]},e.propDecorators={delay:[{type:n.Input}],title:[{type:n.Input}],height:[{type:n.Input}],color:[{type:n.Input}],bgColor:[{type:n.Input}],format:[{type:n.Input}],percent:[{type:n.Input}],padding:[{type:n.Input}]},r([o.InputNumber(),a("design:type",Object)],e.prototype,"delay",void 0),r([o.InputNumber(),a("design:type",Object)],e.prototype,"height",void 0),r([o.InputNumber(),a("design:type",Number)],e.prototype,"percent",void 0),e}(),u=[c],p=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule,o.DelonUtilModule],declarations:l(u),exports:l(u)}]}],e}();e.G2GaugeComponent=c,e.G2GaugeModule=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=gauge.umd.min.js.map